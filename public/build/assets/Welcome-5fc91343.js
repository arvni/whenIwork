import{a as r,r as C,u as I,d as b,j as i,F as P,H as S}from"./app-d1dbfdab.js";import{T as k,C as G,a as v}from"./Copyright-41d80426.js";import{G as p}from"./Grid-52381724.js";import{C as T}from"./Container-518a9f8d.js";import{P as W}from"./Paper-546bbb26.js";import{S as f}from"./Stack-fbbf0c4c.js";import{u as M,f as O,T as g}from"./TextField-8c801748.js";import{g as j,s as B,_ as x,u as R,a as z,c as D,d as E,n as H}from"./styled-ea4cc06d.js";import{g as L}from"./generateUtilityClasses-aacb770c.js";import{I as U}from"./IconButton-776622ad.js";import{c as _}from"./createSvgIcon-8e57426f.js";import{B as q}from"./Button-e4ddfc72.js";import{B as N}from"./Modal-12c03e4b.js";import{C as A}from"./CircularProgress-67ab0f62.js";import"./Typography-b920a7d0.js";import"./extendSxProp-026b344c.js";import"./useTheme-d80e1e09.js";import"./styled-1da70638.js";import"./TransitionGroupContext-a7327adb.js";import"./isMuiElement-4ac4aa11.js";import"./useSlotProps-d015ad01.js";import"./react-is.production.min-a192e302.js";import"./useControlled-f648ed34.js";import"./ButtonBase-58f8f612.js";const V=_(r("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"}),"Refresh");function Y(t){return j("MuiFormGroup",t)}L("MuiFormGroup",["root","row","error"]);const $=["className","row"],J=t=>{const{classes:s,row:n,error:a}=t;return E({root:["root",n&&"row",a&&"error"]},Y,s)},K=B("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:n}=t;return[s.root,n.row&&s.row]}})(({ownerState:t})=>x({display:"flex",flexDirection:"column",flexWrap:"wrap"},t.row&&{flexDirection:"row"})),Q=C.forwardRef(function(s,n){const a=R({props:s,name:"MuiFormGroup"}),{className:c,row:o=!1}=a,d=z(a,$),m=M(),h=O({props:a,muiFormControl:m,states:["error"]}),u=x({},a,{row:o,error:h.error}),l=J(u);return r(K,x({className:D(l.root,c),ownerState:u,ref:n},d))}),X=Q,Z=H({typography:{fontFamily:"YekanBakh, tahoma"},components:{MuiTextField:{styleOverrides:{root:{textAlign:"right","& label.MuiInputLabel":{"&-root":{right:"24px",left:"unset",transformOrigin:"top right"},"&-shrink":{transform:"translate(9px, -9px) scale(0.75)"}},"& fieldset":{textAlign:"right",right:"0"}}}}}});function Pr(t){const{data:s,setData:n,post:a,processing:c,errors:o,reset:d,setError:m,clearErrors:h,get:u}=I({userId:"",password:"",captcha:""});C.useEffect(()=>{var e;return(e=t==null?void 0:t.auth)!=null&&e.user&&b.Inertia.visit("/dashboard"),()=>{d("password")}},[]);const l=e=>{n(e.target.name,e.target.type==="checkbox"?e.target.checked:e.target.value)},w=e=>{e.preventDefault(),y()&&a(route("login"))},y=()=>{let e=!0;return h(),s.password||(e=!1,m("password","لطفا رمز عبور را وارد کنید")),s.userId||(e=!1,m("userId","لطفا شناسع کارری را وارد کنید")),s.captcha||(e=!1,m("captcha","لطفا کد امنیتی را وارد کنید ")),e},F=()=>{u("/",{preserveState:!0,only:["captchaSrc"]})};return i(P,{children:[r(S,{title:"Login"}),r(p,{container:!0,sx:{minHeight:"100vh"},justifyContent:"center",alignItems:"center",alignContent:"center",children:r(p,{item:!0,xs:12,children:r(k,{theme:Z,children:i(T,{component:"main",maxWidth:"md",children:[r(G,{}),r(W,{sx:{backgroundColor:"#eff2f7",height:"100%"},elevation:10,children:i(p,{container:!0,children:[r(p,{item:!0,xs:12,sm:12,md:6,children:r(f,{spacing:5,justifyContent:"center",alignItems:"center",height:"100%",children:r("img",{src:"/images/logo.png",width:"50%"})})}),r(p,{item:!0,xs:12,sm:12,md:6,sx:{pt:"1em"},children:r("form",{onSubmit:w,action:route("login"),method:"post",children:i(f,{alignItems:"center",sx:{maxWidth:"224px",mx:"auto"},children:[r(g,{onChange:l,margin:"normal",required:!0,id:"email",label:"شناسه کاربری",size:"small",error:o.hasOwnProperty("userId"),fullWidth:!0,helperText:o.hasOwnProperty("userId")?o.userId:"",name:"userId",autoComplete:"email",autoFocus:!0}),r(g,{onChange:l,margin:"normal",required:!0,name:"password",label:"رمز عبور",type:"password",id:"password",autoComplete:"current-password",size:"small",fullWidth:!0,error:o.hasOwnProperty("password"),sx:{mt:"0"},helperText:o.hasOwnProperty("password")?o.password:""}),i(X,{sx:{mt:"1em"},children:[i(f,{direction:"row",alignItems:"center",justifyContent:"center",spacing:3,children:[r(U,{onClick:F,children:r(V,{})}),r("img",{src:t.captchaSrc})]}),r(g,{onChange:l,margin:"normal",required:!0,fullWidth:!0,inputMode:"numeric",name:"captcha",label:"کد امنیتی",size:"small",sx:{maxWidth:"224px"},id:"captcha",error:o.hasOwnProperty("captcha"),helperText:o.hasOwnProperty("captcha")?o.captcha:""})]}),r(q,{onClick:w,variant:"contained",sx:{mt:3,mb:2},disabled:c,children:"ورود"})]})})})]})}),r(v,{sx:{mt:8,mb:4}})]})})})}),r(N,{open:c,children:r(A,{})})]})}export{Pr as default};
