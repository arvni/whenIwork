import{a as G,_ as x,g as wt,s as mt,u as bt,b as at,e as Ct}from"./styled-1ab0f523.js";import{r,a as U}from"./app-f429c5d1.js";import{g as St}from"./generateUtilityClasses-4cd05fbe.js";import{M as Ot}from"./Modal-c33185a4.js";import{u as gt,T as zt,r as _t,g as lt,P as $t,b as ct,o as ut,c as pt,i as Dt}from"./Paper-1ada21ca.js";import{u as Ht}from"./useTheme-bdf5e9b8.js";import{d as At}from"./createSvgIcon-539e1997.js";const Mt=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function J(e){return`scale(${e}, ${e**2})`}const Wt={entering:{opacity:1,transform:J(1)},entered:{opacity:1,transform:"none"}},Y=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Pt=r.forwardRef(function(t,s){const{addEndListener:$,appear:W=!0,children:S,easing:w,in:L,onEnter:l,onEntered:b,onEntering:j,onExit:T,onExited:B,onExiting:I,style:D,timeout:h="auto",TransitionComponent:m=zt}=t,g=G(t,Mt),k=r.useRef(),R=r.useRef(),c=Ht(),P=r.useRef(null),H=gt(P,S.ref,s),E=o=>u=>{if(o){const p=P.current;u===void 0?o(p):o(p,u)}},N=E(j),F=E((o,u)=>{_t(o);const{duration:p,delay:C,easing:f}=lt({style:D,timeout:h,easing:w},{mode:"enter"});let y;h==="auto"?(y=c.transitions.getAutoHeightDuration(o.clientHeight),R.current=y):y=p,o.style.transition=[c.transitions.create("opacity",{duration:y,delay:C}),c.transitions.create("transform",{duration:Y?y:y*.666,delay:C,easing:f})].join(","),l&&l(o,u)}),K=E(b),v=E(I),A=E(o=>{const{duration:u,delay:p,easing:C}=lt({style:D,timeout:h,easing:w},{mode:"exit"});let f;h==="auto"?(f=c.transitions.getAutoHeightDuration(o.clientHeight),R.current=f):f=u,o.style.transition=[c.transitions.create("opacity",{duration:f,delay:p}),c.transitions.create("transform",{duration:Y?f:f*.666,delay:Y?p:p||f*.333,easing:C})].join(","),o.style.opacity=0,o.style.transform=J(.75),T&&T(o)}),V=E(B),M=o=>{h==="auto"&&(k.current=setTimeout(o,R.current||0)),$&&$(P.current,o)};return r.useEffect(()=>()=>{clearTimeout(k.current)},[]),U(m,x({appear:W,in:L,nodeRef:P,onEnter:F,onEntered:K,onEntering:N,onExit:A,onExited:V,onExiting:v,addEndListener:M,timeout:h==="auto"?null:h},g,{children:(o,u)=>r.cloneElement(S,x({style:x({opacity:0,transform:J(.75),visibility:o==="exited"&&!L?"hidden":void 0},Wt[o],D,S.props.style),ref:H},u))}))});Pt.muiSupportAuto=!0;const Lt=Pt;function jt(e){return wt("MuiPopover",e)}St("MuiPopover",["root","paper"]);const kt=["onEntering"],Nt=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"],Ft=["slotProps"];function ft(e,t){let s=0;return typeof t=="number"?s=t:t==="center"?s=e.height/2:t==="bottom"&&(s=e.height),s}function dt(e,t){let s=0;return typeof t=="number"?s=t:t==="center"?s=e.width/2:t==="right"&&(s=e.width),s}function ht(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function q(e){return typeof e=="function"?e():e}const Gt=e=>{const{classes:t}=e;return Ct({root:["root"],paper:["paper"]},jt,t)},Ut=mt(Ot,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Bt=mt($t,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),It=r.forwardRef(function(t,s){var $,W,S;const w=bt({props:t,name:"MuiPopover"}),{action:L,anchorEl:l,anchorOrigin:b={vertical:"top",horizontal:"left"},anchorPosition:j,anchorReference:T="anchorEl",children:B,className:I,container:D,elevation:h=8,marginThreshold:m=16,open:g,PaperProps:k={},slots:R,slotProps:c,transformOrigin:P={vertical:"top",horizontal:"left"},TransitionComponent:H=Lt,transitionDuration:E="auto",TransitionProps:{onEntering:N}={}}=w,F=G(w.TransitionProps,kt),K=G(w,Nt),v=($=c==null?void 0:c.paper)!=null?$:k,A=r.useRef(),V=gt(A,v.ref),M=x({},w,{anchorOrigin:b,anchorReference:T,elevation:h,marginThreshold:m,externalPaperSlotProps:v,transformOrigin:P,TransitionComponent:H,transitionDuration:E,TransitionProps:F}),o=Gt(M),u=r.useCallback(()=>{if(T==="anchorPosition")return j;const n=q(l),a=(n&&n.nodeType===1?n:ct(A.current).body).getBoundingClientRect();return{top:a.top+ft(a,b.vertical),left:a.left+dt(a,b.horizontal)}},[l,b.horizontal,b.vertical,j,T]),p=r.useCallback(n=>({vertical:ft(n,P.vertical),horizontal:dt(n,P.horizontal)}),[P.horizontal,P.vertical]),C=r.useCallback(n=>{const i={width:n.offsetWidth,height:n.offsetHeight},a=p(i);if(T==="none")return{top:null,left:null,transformOrigin:ht(a)};const et=u();let z=et.top-a.vertical,_=et.left-a.horizontal;const ot=z+i.height,nt=_+i.width,rt=ut(q(l)),it=rt.innerHeight-m,st=rt.innerWidth-m;if(z<m){const d=z-m;z-=d,a.vertical+=d}else if(ot>it){const d=ot-it;z-=d,a.vertical+=d}if(_<m){const d=_-m;_-=d,a.horizontal+=d}else if(nt>st){const d=nt-st;_-=d,a.horizontal+=d}return{top:`${Math.round(z)}px`,left:`${Math.round(_)}px`,transformOrigin:ht(a)}},[l,T,u,p,m]),[f,y]=r.useState(g),O=r.useCallback(()=>{const n=A.current;if(!n)return;const i=C(n);i.top!==null&&(n.style.top=i.top),i.left!==null&&(n.style.left=i.left),n.style.transformOrigin=i.transformOrigin,y(!0)},[C]),Et=(n,i)=>{N&&N(n,i),O()},vt=()=>{y(!1)};r.useEffect(()=>{g&&O()}),r.useImperativeHandle(L,()=>g?{updatePosition:()=>{O()}}:null,[g,O]),r.useEffect(()=>{if(!g)return;const n=At(()=>{O()}),i=ut(l);return i.addEventListener("resize",n),()=>{n.clear(),i.removeEventListener("resize",n)}},[l,g,O]);let Q=E;E==="auto"&&!H.muiSupportAuto&&(Q=void 0);const yt=D||(l?ct(q(l)).body:void 0),X=(W=R==null?void 0:R.root)!=null?W:Ut,Z=(S=R==null?void 0:R.paper)!=null?S:Bt,xt=pt({elementType:Z,externalSlotProps:x({},v,{style:f?v.style:x({},v.style,{opacity:0})}),additionalProps:{elevation:h,ref:V},ownerState:M,className:at(o.paper,v==null?void 0:v.className)}),tt=pt({elementType:X,externalSlotProps:(c==null?void 0:c.root)||{},externalForwardedProps:K,additionalProps:{ref:s,slotProps:{backdrop:{invisible:!0}},container:yt,open:g},ownerState:M,className:at(o.root,I)}),{slotProps:Tt}=tt,Rt=G(tt,Ft);return U(X,x({},Rt,!Dt(X)&&{slotProps:Tt},{children:U(H,x({appear:!0,in:g,onEntering:Et,onExited:vt,timeout:Q},F,{children:U(Z,x({},xt,{children:B}))}))}))}),Zt=It;export{Lt as G,Zt as P,Bt as a};
