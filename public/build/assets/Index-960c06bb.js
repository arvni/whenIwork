import{a as o,u as q,r as v,j as x,H as I,d as S}from"./app-d1dbfdab.js";import{T as y}from"./TableLayout-db217659.js";import z from"./Filter-90862ecb.js";import L from"./ClientRequest-ae1c9675.js";import N from"./ExpandedComponent-eea91834.js";import{a as R}from"./helper-a68b4be4.js";import{C as T}from"./ClientLayout-518c343f.js";import{c as l}from"./createSvgIcon-8e57426f.js";import{G as p}from"./GridActionsCellItem-a600e4b7.js";import"./jsx-runtime_commonjs-proxy-b142d019.js";import"./styled-ea4cc06d.js";import"./useSlotProps-d015ad01.js";import"./TransitionGroupContext-a7327adb.js";import"./isMuiElement-4ac4aa11.js";import"./useControlled-f648ed34.js";import"./ButtonBase-58f8f612.js";import"./generateUtilityClasses-aacb770c.js";import"./AuthenticatedLayout-31b58a96.js";import"./Collapse-12d8860d.js";import"./Paper-546bbb26.js";import"./useTheme-d80e1e09.js";import"./Copyright-41d80426.js";import"./TextField-8c801748.js";import"./react-is.production.min-a192e302.js";import"./Modal-12c03e4b.js";import"./Typography-b920a7d0.js";import"./extendSxProp-026b344c.js";import"./Box-70f1a542.js";import"./IconButton-776622ad.js";import"./CircularProgress-67ab0f62.js";import"./MenuItem-cbf24c2a.js";import"./dividerClasses-5ec07f0b.js";import"./usePreviousProps-8ac14aea.js";import"./Divider-d7232a9f.js";import"./DialogContent-df303438.js";import"./DialogTitle-fc4060ed.js";import"./Grid-52381724.js";import"./DialogActions-0070eb61.js";import"./Stack-fbbf0c4c.js";import"./styled-1da70638.js";import"./Button-e4ddfc72.js";import"./Container-518a9f8d.js";import"./TableHead-d61057cc.js";import"./TableCell-ee779cb9.js";import"./TableRow-467dcf0c.js";import"./KeyboardArrowRight-4fbceae4.js";import"./FilterAlt-8ce198a1.js";import"./SelectSearch-844b9bcc.js";import"./Popper-77f43709.js";import"./createPopper-3cf4315c.js";import"./Tabs-101e026a.js";import"./AccordionSummary-963b9755.js";import"./ShiftInfo-6b7aed0f.js";import"./TakeLeaveForm-197c710c.js";import"./DateRangePicker-96f94b9b.js";import"./PersianDatepicker-7bc4e7d5.js";import"./DesktopDatePicker-108dc254.js";import"./removeClass-9a525042.js";import"./CancelRequest-0000234e.js";import"./DialogContentText-bd5c1ce8.js";import"./Done-620b4e8d.js";const k=l(o("path",{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm-2 14-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z"}),"AssignmentTurnedIn"),A=l(o("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm.06 17v-2.01H12c-1.28 0-2.56-.49-3.54-1.46-1.71-1.71-1.92-4.35-.64-6.29l1.1 1.1c-.71 1.33-.53 3.01.59 4.13.7.7 1.62 1.03 2.54 1.01v-2.14l2.83 2.83L12.06 19zm4.11-4.24-1.1-1.1c.71-1.33.53-3.01-.59-4.13C13.79 8.84 12.9 8.5 12 8.5h-.06v2.15L9.11 7.83 11.94 5v2.02c1.3-.02 2.61.45 3.6 1.45 1.7 1.7 1.91 4.35.63 6.29z"}),"ChangeCircle"),D=({shifts:r,defaultValues:c})=>{const{post:d,processing:u,data:h,setData:n,reset:f}=q({}),[C,m]=v.useState(!1),w=(t,e,i,_)=>S.Inertia.visit(route("client.shifts.index"),{data:{filters:e,sort:i,pageSize:_,page:t},only:["shifts","defaultValues"],preserveState:!0}),g=[{field:"rooms.name",headerName:"بخش",renderCell:({row:t})=>t.room.name,sortable:!1},{field:"date",headerName:"تاریخ",renderCell:({value:t})=>R(t)},{field:"started_at",headerName:"ساعت شروع"},{field:"ended_at",headerName:"ساعت پایان"},{field:"noUsers",headerName:"تعداد نفرات"},{field:"id",headerName:"#",type:"action",sortable:!1,textAlign:"center",renderCell:t=>{let e=[];return new Date(t.row.started_at_dateTime)>new Date&&(t.row.type==="open"?!t.row.client_requests_count&&t.row.noUsers>=t.row.works_count&&e.push(o(p,{icon:o(k,{color:"info"}),label:"درخواست شیفت",onClick:a(t.row,"shift")},`shift-${t.row.id}`)):!t.row.client_requests_count&&e.push(o(p,{icon:o(A,{color:"warning"}),label:"تغییر شیفت",onClick:a(t.row,"changeUser")},`change-${t.row.id}`))),e}}],b=(t,e)=>{n(i=>({...i,[t]:e}))},s=()=>{f(),m(!1)},a=(t,e)=>()=>{n({requestable:t,type:e}),m(!0)};return x(y,{loading:u,reload:w,defaultValues:c,data:r,columns:g,Filter:z,ExpandedComponent:N,expandedKey:"client_requests",children:[o(I,{title:"شیفت ها"}),o(L,{onSubmit:()=>d(route("client.clientRequests.store"),{onSuccess:s}),onChange:b,clientRequest:h,open:C,onClose:s})]})},H=[{title:"شیفت ها",link:"",icon:""}];D.layout=r=>o(T,{breadcrumbs:H,children:r,auth:r.props.auth});export{D as default};
