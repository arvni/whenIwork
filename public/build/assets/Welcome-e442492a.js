import{r as C,a as r,u as I,d as b,j as i,F as P,H as S}from"./app-f429c5d1.js";import{T as k,C as G,a as v}from"./Copyright-2691578d.js";import{G as p}from"./Grid-417d5d0a.js";import{C as T}from"./Container-1648660f.js";import{P as M}from"./Paper-1ada21ca.js";import{S as f}from"./Stack-33d46199.js";import{u as W,f as O,T as g}from"./TextField-980a54da.js";import{g as j,s as B,_ as x,u as R,a as z,b as D,e as E,M as H}from"./styled-1ab0f523.js";import{g as L}from"./generateUtilityClasses-4cd05fbe.js";import{I as U}from"./IconButton-9ba9fc36.js";import{c as _}from"./createSvgIcon-539e1997.js";import{B as q}from"./Button-ef7b4777.js";import{B as N}from"./Modal-c33185a4.js";import{C as A}from"./CircularProgress-d71a0503.js";import"./Typography-cd01d11e.js";import"./extendSxProp-cd2562c9.js";import"./useTheme-bdf5e9b8.js";import"./styled-b28ad42f.js";import"./isMuiElement-e45fcb63.js";import"./useId-802135e4.js";import"./useControlled-1f6928c6.js";import"./Popover-e6fdd7be.js";import"./ButtonBase-c8dbbad4.js";function V(t){return j("MuiFormGroup",t)}L("MuiFormGroup",["root","row","error"]);const Y=["className","row"],$=t=>{const{classes:s,row:n,error:a}=t;return E({root:["root",n&&"row",a&&"error"]},V,s)},J=B("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:n}=t;return[s.root,n.row&&s.row]}})(({ownerState:t})=>x({display:"flex",flexDirection:"column",flexWrap:"wrap"},t.row&&{flexDirection:"row"})),K=C.forwardRef(function(s,n){const a=R({props:s,name:"MuiFormGroup"}),{className:c,row:o=!1}=a,d=z(a,Y),m=W(),h=O({props:a,muiFormControl:m,states:["error"]}),u=x({},a,{row:o,error:h.error}),l=$(u);return r(J,x({className:D(l.root,c),ownerState:u,ref:n},d))}),Q=K,X=_(r("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"}),"Refresh"),Z=H({typography:{fontFamily:"YekanBakh, tahoma"},components:{MuiTextField:{styleOverrides:{root:{textAlign:"right","& label.MuiInputLabel":{"&-root":{right:"24px",left:"unset",transformOrigin:"top right"},"&-shrink":{transform:"translate(9px, -9px) scale(0.75)"}},"& fieldset":{textAlign:"right",right:"0"}}}}}});function br(t){const{data:s,setData:n,post:a,processing:c,errors:o,reset:d,setError:m,clearErrors:h,get:u}=I({userId:"",password:"",captcha:""});C.useEffect(()=>{var e;return(e=t==null?void 0:t.auth)!=null&&e.user&&b.Inertia.visit("/dashboard"),()=>{d("password")}},[]);const l=e=>{n(e.target.name,e.target.type==="checkbox"?e.target.checked:e.target.value)},w=e=>{e.preventDefault(),y()&&a(route("login"))},y=()=>{let e=!0;return h(),s.password||(e=!1,m("password","لطفا رمز عبور را وارد کنید")),s.userId||(e=!1,m("userId","لطفا شناسع کارری را وارد کنید")),s.captcha||(e=!1,m("captcha","لطفا کد امنیتی را وارد کنید ")),e},F=()=>{u("/",{preserveState:!0,only:["captchaSrc"]})};return i(P,{children:[r(S,{title:"Login"}),r(p,{container:!0,sx:{minHeight:"100vh"},justifyContent:"center",alignItems:"center",alignContent:"center",children:r(p,{item:!0,xs:12,children:r(k,{theme:Z,children:i(T,{component:"main",maxWidth:"md",children:[r(G,{}),r(M,{sx:{backgroundColor:"#eff2f7",height:"100%"},elevation:10,children:i(p,{container:!0,children:[r(p,{item:!0,xs:12,sm:12,md:6,children:r(f,{spacing:5,justifyContent:"center",alignItems:"center",height:"100%",children:r("img",{src:"/images/logo.png",width:"50%"})})}),r(p,{item:!0,xs:12,sm:12,md:6,sx:{pt:"1em"},children:r("form",{onSubmit:w,action:route("login"),method:"post",children:i(f,{alignItems:"center",sx:{maxWidth:"224px",mx:"auto"},children:[r(g,{onChange:l,margin:"normal",required:!0,id:"email",label:"شناسه کاربری",size:"small",error:o.hasOwnProperty("userId"),fullWidth:!0,helperText:o.hasOwnProperty("userId")?o.userId:"",name:"userId",autoComplete:"email",autoFocus:!0}),r(g,{onChange:l,margin:"normal",required:!0,name:"password",label:"رمز عبور",type:"password",id:"password",autoComplete:"current-password",size:"small",fullWidth:!0,error:o.hasOwnProperty("password"),sx:{mt:"0"},helperText:o.hasOwnProperty("password")?o.password:""}),i(Q,{sx:{mt:"1em"},children:[i(f,{direction:"row",alignItems:"center",justifyContent:"center",spacing:3,children:[r(U,{onClick:F,children:r(X,{})}),r("img",{src:t.captchaSrc})]}),r(g,{onChange:l,margin:"normal",required:!0,fullWidth:!0,inputMode:"numeric",name:"captcha",label:"کد امنیتی",size:"small",sx:{maxWidth:"224px"},id:"captcha",error:o.hasOwnProperty("captcha"),helperText:o.hasOwnProperty("captcha")?o.captcha:""})]}),r(q,{onClick:w,variant:"contained",sx:{mt:3,mb:2},disabled:c,children:"ورود"})]})})})]})}),r(v,{sx:{mt:8,mb:4}})]})})})}),r(N,{open:c,children:r(A,{})})]})}export{br as default};
