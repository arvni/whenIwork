import{a as e,j as r}from"./app-d1dbfdab.js";import{S as k}from"./SelectSearch-844b9bcc.js";import{P as D}from"./PersianDatepicker-7bc4e7d5.js";import{s as T}from"./styled-ea4cc06d.js";import{S as M,F as P}from"./Switch-3705a5da.js";import{S as j}from"./Stack-fbbf0c4c.js";import{T as f}from"./Typography-b920a7d0.js";import{c as F}from"./helper-a68b4be4.js";import{D as U,a as W}from"./DialogContent-df303438.js";import{D as O}from"./DialogTitle-fc4060ed.js";import{G as a}from"./Grid-52381724.js";import{T as p,F as A}from"./TextField-8c801748.js";import{D as I}from"./DialogActions-0070eb61.js";import{B as u}from"./Button-e4ddfc72.js";import"./createSvgIcon-8e57426f.js";import"./generateUtilityClasses-aacb770c.js";import"./IconButton-776622ad.js";import"./ButtonBase-58f8f612.js";import"./TransitionGroupContext-a7327adb.js";import"./Popper-77f43709.js";import"./Modal-12c03e4b.js";import"./useTheme-d80e1e09.js";import"./Paper-546bbb26.js";import"./useSlotProps-d015ad01.js";import"./createPopper-3cf4315c.js";import"./useControlled-f648ed34.js";import"./usePreviousProps-8ac14aea.js";import"./CircularProgress-67ab0f62.js";import"./DesktopDatePicker-108dc254.js";import"./removeClass-9a525042.js";import"./styled-1da70638.js";import"./extendSxProp-026b344c.js";import"./isMuiElement-4ac4aa11.js";import"./react-is.production.min-a192e302.js";const B=T(t=>e(M,{focusVisibleClassName:".Mui-focusVisible",disableRipple:!0,...t}))(({theme:t})=>({width:42,height:26,padding:0,"& .MuiSwitch-switchBase":{padding:0,margin:2,transitionDuration:"300ms","&.Mui-checked":{transform:"translateX(16px)",color:"#fff","& + .MuiSwitch-track":{backgroundColor:t.palette.mode==="dark"?"#2ECA45":"#65C466",opacity:1,border:0},"&.Mui-disabled + .MuiSwitch-track":{opacity:.5}},"&.Mui-focusVisible .MuiSwitch-thumb":{color:"#33cf4d",border:"6px solid #fff"},"&.Mui-disabled .MuiSwitch-thumb":{color:t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[600]},"&.Mui-disabled + .MuiSwitch-track":{opacity:t.palette.mode==="light"?.7:.3}},"& .MuiSwitch-thumb":{boxSizing:"border-box",width:22,height:22},"& .MuiSwitch-track":{borderRadius:26/2,backgroundColor:t.palette.mode==="light"?"#E9E9EA":"#39393D",opacity:1,transition:t.transitions.create(["background-color"],{duration:500})}})),V=({leftLabel:t,rightLabel:c,...m})=>r(j,{direction:"row",spacing:1,alignItems:"center",children:[t&&e(f,{children:t}),e(B,{...m}),c&&e(f,{children:c})]}),bt=({values:t,setValues:c,cancel:m,submit:g,errors:i,open:x,loading:b,title:s,setError:d,clearErrors:y})=>{const l=n=>h({[n.target.name]:n.target.value}),w=()=>{var o;let n=!0;return new Date(new Date(t.date).toDateString())<new Date(new Date().toDateString())&&(d("date","تاریخ انتخابی اشتباه است باشد"),n=!1),t.started_at||(d("started_at","زمان شروع را وارد کنید"),n=!1),t.ended_at||(d("ended_at","زمان پایان را وارد کنید"),n=!1),F(t.started_at,t.ended_at)&&(d("ended_at","زمان پایان شیفت باید بزرگتر از شروع باشد"),n=!1),t.type!=="open"&&(t.related===""||!((o=t==null?void 0:t.related)!=null&&o.id))&&d("related","لطفا یک کاربر را انتخاب کنید"),t.noUsers<1&&(d("noUsers","تعداد کاربران باید حداقل یک نفر باشد"),n=!1),n},C=()=>{y(),w()&&g()},S=n=>h({date:n}),_=(n,o)=>h({type:o?"open":"normal",related:o?[]:""}),h=n=>c(o=>({...o,...n}));return r(U,{open:x&&!b,maxWidth:"xs",children:[s&&e(O,{children:s}),e(W,{children:r(a,{container:!0,spacing:3,sx:{marginTop:".5em"},children:[e(a,{item:!0,xs:12,children:e(D,{value:t.date,name:"date",fullWidth:!0,label:"تاریخ",onChange:S,error:i==null?void 0:i.date,helperText:i==null?void 0:i.date})}),e(a,{item:!0,xs:6,children:e(p,{fullWidth:!0,onChange:l,name:"started_at",value:t.started_at,label:"شروع",type:"time",error:i.hasOwnProperty("started_at"),helperText:i==null?void 0:i.started_at,inputProps:{step:3600,pattern:"[0-9]{2}:[0-9]{2}",max:t.ended_at}})}),e(a,{item:!0,xs:6,children:e(p,{name:"ended_at",fullWidth:!0,onChange:l,value:t.ended_at,label:"پایان",type:"time",error:i.hasOwnProperty("ended_at"),helperText:i==null?void 0:i.ended_at,inputProps:{step:3600,pattern:"[0-2][0-9]:[0-5][0-9]",min:t.started_at}})}),e(a,{item:!0,xs:6}),e(a,{item:!0,xs:7.5,sx:{display:"flex",alignItems:"center",alignContent:"center",justifyContent:"start"},children:e(P,{control:e(V,{leftLabel:"معمولی",rightLabel:"باز",checked:t.type==="open",onChange:_}),label:e(A,{children:"نوع شیفت"}),labelPlacement:"top",sx:{alignItems:"center",justifyContent:"space-between",width:"100%",margin:0}})}),t.type==="open"?e(a,{item:!0,xs:4.5,children:e(p,{name:"noUsers",fullWidth:!0,onChange:l,value:t.noUsers,label:"تعداد کاربران",type:"number",error:i.hasOwnProperty("noUsers"),helperText:i==null?void 0:i.noUsers,inputProps:{min:1}})}):e(a,{item:!0,xs:12,children:e(k,{value:t==null?void 0:t.related,name:"related",onChange:l,url:route("admin.userApi.index"),label:"کابر",helperText:(i==null?void 0:i.related)??"",error:Object.keys(i).includes("related")})}),e(a,{item:!0,xs:12,children:e(p,{name:"description",fullWidth:!0,onChange:l,value:t.description,label:"توضیحات",multiline:!0,rows:3,error:i.hasOwnProperty("description"),helperText:i==null?void 0:i.description})})]})}),e(I,{children:r(a,{container:!0,spacing:2,flex:!0,justifyContent:"flex-end",justifyItems:"flex-end",children:[e(a,{item:!0,children:e(u,{onClick:m,children:"لغو"})}),e(a,{item:!0,children:e(u,{variant:"contained",onClick:C,sx:{color:"#fff"},children:"ثبت"})})]})})]})};export{bt as default};
