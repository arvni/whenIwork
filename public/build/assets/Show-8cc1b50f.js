import{u as F,r as h,j as C,F as _,a as t,H as T}from"./app-d1dbfdab.js";import b from"./ShiftInformation-c46e616d.js";import g from"./ShiftRequests-1e2b37b9.js";import $ from"./ConfirmForm-62730512.js";import v from"./RejectForm-9e3f7d70.js";import A from"./ShiftWorks-8e913444.js";import{A as H}from"./AdminLayout-74b932a6.js";import{D as c}from"./Divider-d7232a9f.js";import{T as l}from"./Typography-b920a7d0.js";import"./helper-a68b4be4.js";import"./Grid-52381724.js";import"./styled-ea4cc06d.js";import"./useTheme-d80e1e09.js";import"./generateUtilityClasses-aacb770c.js";import"./extendSxProp-026b344c.js";import"./ExpandedComponent-eea91834.js";import"./jsx-runtime_commonjs-proxy-b142d019.js";import"./createSvgIcon-8e57426f.js";import"./useSlotProps-d015ad01.js";import"./TransitionGroupContext-a7327adb.js";import"./isMuiElement-4ac4aa11.js";import"./useControlled-f648ed34.js";import"./ButtonBase-58f8f612.js";import"./CancelRequest-0000234e.js";import"./DialogContent-df303438.js";import"./Modal-12c03e4b.js";import"./Paper-546bbb26.js";import"./DialogTitle-fc4060ed.js";import"./DialogContentText-bd5c1ce8.js";import"./DialogActions-0070eb61.js";import"./Stack-fbbf0c4c.js";import"./styled-1da70638.js";import"./Button-e4ddfc72.js";import"./Done-620b4e8d.js";import"./TableHead-d61057cc.js";import"./TableCell-ee779cb9.js";import"./TableRow-467dcf0c.js";import"./IconButton-776622ad.js";import"./ExpandedCell-08cdaf33.js";import"./TextField-8c801748.js";import"./react-is.production.min-a192e302.js";import"./AuthenticatedLayout-31b58a96.js";import"./Collapse-12d8860d.js";import"./Copyright-41d80426.js";import"./Box-70f1a542.js";import"./CircularProgress-67ab0f62.js";import"./MenuItem-cbf24c2a.js";import"./dividerClasses-5ec07f0b.js";import"./usePreviousProps-8ac14aea.js";import"./Container-518a9f8d.js";const O=({shift:o})=>{const{data:r,post:i,setData:m,errors:s,reset:n}=F(),[j,u]=h.useState(!1),[q,d]=h.useState(!1),f=e=>{m(o.client_requests.find(a=>a.id===e))},R=e=>()=>{f(e),u(!0)},S=e=>()=>{f(e),d(!0)},p=()=>{u(!1),d(!1),n()},D=()=>{i(route("admin.clientRequests.confirm",r.id),{onSuccess:p})},w=()=>{i(route("admin.clientRequests.reject",r.id),{onSuccess:p})},x=(e,a)=>m(y=>({...y,[e]:a})),k=new Date(o.date+" "+o.started_at)>new Date&&(o.client_requests_count<=o.noUsers||o.type==="normal");return C(_,{children:[t(T,{title:`شیفت #${o.id}`}),t(c,{children:C(l,{component:"h5",children:["شیفت #",o.id]})}),t(b,{shift:o}),t(c,{sx:{marginTop:3},children:t(l,{component:"h5",children:"کاربران"})}),t(A,{works:o.works}),t(c,{sx:{marginTop:3},children:t(l,{component:"h5",children:"درخواست ها"})}),t(g,{requests:o.client_requests,active:k,onConfirm:R,onReject:S}),t($,{onConfirm:D,onClose:p,open:j,request:r}),t(v,{onChange:x,onSubmit:w,onClose:p,open:q,request:r})]})};O.layout=o=>{var r,i,m,s,n;return t(H,{auth:o.props.auth,children:o,breadcrumbs:[{title:`بخش ${(i=(r=o.props.shift)==null?void 0:r.room)==null?void 0:i.name}`,link:route("admin.rooms.show",(s=(m=o.props.shift)==null?void 0:m.room)==null?void 0:s.id),icon:null},{title:`شیفت #${(n=o.props.shift)==null?void 0:n.id}`,link:null,icon:null}]})};export{O as default};
